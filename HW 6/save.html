<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style_1.css">
</head>
<body>
<div class="div-head">
    <h1>Save List</h1>
</div>
<div class="card-list">
</div>

    <script>
      const saveListInPage = JSON.parse(localStorage.getItem("SaveArr")) || [];
      console.log(saveListInPage);

      const listProducts = (arr) => {
    const divCard = document.querySelector(".card-list");
    divCard.innerHTML="";
    arr.forEach(product => {
        const cardBox = `
        <div class="card" style="width: 20rem;">
        <img src="${product.imageUrl}" class="card-img">
        <div class="card-box">
        <h4 class="card-title">${product.title}</h4>
        <h6 class="card-text">${product.description}</h6>
        <h5 class="card-price">${product.price}</h5>
        <h5 class="card-id">${product.id}</h5>
        <button class="details-btn" data-product-id="${product.id}">See Details</button>
        <button data-product-id="${product.id}" class="remove-btn">Remove</button>
        <button data-product-id="${product.id}" class="add-btn">Add to Cart</button>
        </div>
        </div>`
        divCard.insertAdjacentHTML("beforeend", cardBox); 
    });
//};
//listProducts(saveListinPage);

//remove from the save list
const removeBtn = document.querySelectorAll(".remove-btn");
removeBtn.forEach((btnDelete, i)=>{
  btnDelete.addEventListener("click", function(){      
    console.log(arr);
    arr.splice(i, 1);
    console.log(arr);
    listProducts(arr);
    localStorage.setItem("SaveArrInPage", JSON.stringify(saveListInPage));
  })})
};
listProducts(saveListInPage);
    </script>
    <script src="save.html" type="module"></script>
</body>
</html>